<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>牧者智囊 - 传道人AI辅助工具平台</title>
    <!-- 添加EmailJS库 -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        (function() {
            emailjs.init("wt-dk3EqnrpPzKk_q");
        })();
    </script>
    <!-- 引入Google字体，提升整体美观度 -->
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-color: #3a7bd5;
            --primary-dark: #2c62b5; 
            --secondary-color: #00d2ff;
            --accent-color: #f9a825;
            --text-color: #333;
            --text-light: #666;
            --text-lighter: #888;
            --light-gray: #f5f7fa;
            --border-color: #e0e7ff;
            --white: #ffffff;
            --shadow: 0 4px 15px rgba(0,0,0,0.1);
            --shadow-hover: 0 8px 25px rgba(0,0,0,0.15);
            --gradient: linear-gradient(120deg, var(--primary-color), var(--secondary-color));
            --card-gradient: linear-gradient(140deg, var(--primary-color), var(--secondary-color));
            --transition: all 0.3s ease;
        }
        
        /* 基础样式 */
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        body {
            font-family: 'Noto Sans SC', 'PingFang SC', 'Microsoft YaHei', sans-serif;
            line-height: 1.7;
            color: var(--text-color);
            background-color: var(--light-gray);
            padding: 0;
            margin: 0;
        }
        
        header {
            background: var(--gradient);
            color: white;
            padding: 70px 20px;
            text-align: center;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.15);
        }
        
        .header-content {
            position: relative;
            z-index: 2;
            max-width: 850px;
            margin: 0 auto;
        }
        
        .header-bg {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            opacity: 0.12;
            z-index: 1;
        }
        
        h1 {
            font-size: 2.7rem;
            margin-bottom: 18px;
            font-weight: 700;
            letter-spacing: -0.5px;
            text-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .subtitle {
            font-size: 1.3rem;
            margin-bottom: 30px;
            font-weight: 300;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            opacity: 0.9;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 50px 20px;
        }
        
        /* 卡片样式 */
        .intro {
            text-align: center;
            margin-bottom: 60px;
        }
        
        .intro p {
            max-width: 800px;
            margin: 0 auto;
            font-size: 1.15rem;
            color: var(--text-light);
            line-height: 1.8;
        }
        
        .solutions-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(340px, 1fr));
            grid-gap: 35px;
            margin: 40px 0;
        }
        
        .solution-card {
            background: var(--white);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: var(--transition);
            cursor: pointer;
            position: relative;
            border: 1px solid rgba(230, 236, 245, 0.7);
        }
        
        .solution-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-hover);
        }
        
        .card-header {
            height: 180px;
            position: relative;
            overflow: hidden;
        }
        
        .card-illustration {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background: var(--card-gradient);
            color: white;
        }
        
        .card-content {
            padding: 28px;
        }
        
        .card-title {
            font-size: 1.5rem;
            color: var(--primary-color);
            margin-bottom: 16px;
            font-weight: 600;
        }
        
        .card-description {
            margin-bottom: 22px;
            color: var(--text-light);
            line-height: 1.7;
        }
        
        .benefits-list {
            margin-bottom: 24px;
        }
        
        .benefits-list li {
            padding-left: 28px;
            position: relative;
            margin-bottom: 12px;
            list-style: none;
        }
        
        .benefits-list li:before {
            content: "✓";
            position: absolute;
            left: 0;
            color: var(--primary-color);
            font-weight: bold;
            font-size: 1.1rem;
        }
        
        .implementation-tips {
            background-color: rgba(58, 123, 213, 0.06);
            padding: 18px;
            border-radius: 12px;
            margin-top: 18px;
            border-left: 3px solid var(--primary-color);
        }
        
        .implementation-tips h4 {
            font-size: 1.05rem;
            margin-bottom: 10px;
            color: var(--primary-color);
        }
        
        .click-indicator {
            position: absolute;
            bottom: 18px;
            right: 18px;
            background-color: var(--primary-color);
            color: white;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.85rem;
            opacity: 0.9;
            font-weight: 500;
            box-shadow: 0 2px 8px rgba(58, 123, 213, 0.3);
            transition: var(--transition);
        }
        
        .solution-card:hover .click-indicator {
            opacity: 1;
            transform: scale(1.05);
        }
        
        /* 模态框样式 */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0,0,0,0.75);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            backdrop-filter: blur(3px);
        }
        
        .modal-overlay.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .modal-content {
            background: white;
            border-radius: 16px;
            max-width: 90%;
            width: 650px;
            max-height: 92vh;
            overflow-y: auto;
            padding: 35px;
            position: relative;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            transform: translateY(0);
            transition: transform 0.3s ease;
        }
        
        .modal-overlay.active .modal-content {
            transform: translateY(0);
        }
        
        .modal-close {
            position: absolute;
            top: 18px;
            right: 18px;
            font-size: 26px;
            cursor: pointer;
            color: #999;
            transition: color 0.3s ease;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: rgba(0,0,0,0.03);
        }
        
        .modal-close:hover {
            color: var(--primary-color);
            background: rgba(0,0,0,0.06);
        }
        
        .modal-title {
            font-size: 1.7rem;
            color: var(--primary-color);
            margin-bottom: 22px;
            padding-bottom: 14px;
            border-bottom: 1px solid #eee;
            font-weight: 600;
        }
        
        /* 反馈模态框特定样式 */
        #feedbackModalOverlay .form-group {
            margin-bottom: 20px;
        }
        
        #feedbackModalOverlay label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text-color);
        }
        
        #feedbackModalOverlay .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-family: inherit;
            font-size: 1rem;
            transition: all 0.3s ease;
            resize: vertical;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.03);
        }
        
        #feedbackModalOverlay .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.03), 0 0 0 3px rgba(58, 123, 213, 0.1);
        }
        
        #feedbackStatus {
            font-weight: 500;
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        
        .prompt-container {
            background-color: #f5f8ff;
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 24px;
            border: 1px solid #dde6ff;
            box-shadow: inset 0 2px 6px rgba(0,0,50,0.04);
        }
        
        .prompt-text {
            font-family: 'Roboto Mono', monospace;
            white-space: pre-wrap;
            line-height: 1.6;
            color: #444;
        }
        
        /* 辅助元素 */
        .section-title {
            text-align: center;
            margin-bottom: 40px;
            font-size: 2rem;
            color: var(--primary-color);
            position: relative;
            padding-bottom: 16px;
            font-weight: 600;
        }
        
        .section-title:after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 3px;
            background: var(--accent-color);
            border-radius: 2px;
        }
        
        .deepseek-highlight {
            font-weight: 600;
            color: var(--primary-color);
        }
        
        .usage-instructions {
            margin: 35px 0;
            padding: 24px;
            background-color: #fff9e6;
            border-radius: 14px;
            border-left: 4px solid var(--accent-color);
            box-shadow: 0 3px 10px rgba(0,0,0,0.04);
        }
        
        .usage-title {
            color: var(--accent-color);
            font-weight: 600;
            margin-bottom: 12px;
            display: flex;
            align-items: center;
            font-size: 1.15rem;
        }
        
        .usage-title:before {
            content: "💡";
            margin-right: 10px;
            font-size: 1.2rem;
        }
        
        /* 反馈按钮 */
        .feedback-btn {
            position: fixed;
            bottom: 25px;
            right: 25px;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            font-size: 24px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            cursor: pointer;
            z-index: 99;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: all 0.3s ease;
        }
        
        .feedback-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        
        /* 其他按钮样式 */
        .copy-btn, .submit-btn, .qa-submit-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 10px 18px;
            border-radius: 8px;
            cursor: pointer;
            margin: 10px 0;
            transition: background-color 0.3s ease;
            font-weight: 500;
            font-size: 1rem;
            box-shadow: 0 2px 8px rgba(58, 123, 213, 0.25);
        }
        
        .copy-btn:hover, .submit-btn:hover, .qa-submit-btn:hover {
            background-color: var(--primary-dark);
            box-shadow: 0 4px 12px rgba(58, 123, 213, 0.35);
        }
        
        .copy-success {
            color: #2ecc71; 
            font-size: 15px;
            margin-left: 12px;
            opacity: 0;
            transition: opacity 0.3s ease;
            font-weight: 500;
            display: inline-block;
            vertical-align: middle;
        }
        
        .copy-success.show {
            opacity: 1;
        }
        
        .deepseek-buttons {
            display: flex;
            justify-content: space-between;
            margin-top: 24px;
            gap: 15px;
        }
        
        .open-deepseek-app-btn, .open-deepseek-web-btn {
            display: block;
            flex: 1;
            padding: 14px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            border: none;
            text-align: center;
            font-weight: 500;
        }
        
        .open-deepseek-app-btn {
            background-color: #f0f0f0;
            color: #444;
            border: 1px solid #e0e0e0;
        }
        
        .open-deepseek-app-btn:hover {
            background-color: #e5e5e5;
            border-color: #d5d5d5;
        }
        
        .open-deepseek-web-btn {
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 3px 10px rgba(58, 123, 213, 0.25);
        }
        
        .open-deepseek-web-btn:hover {
            background-color: var(--primary-dark);
            box-shadow: 0 5px 15px rgba(58, 123, 213, 0.35);
            transform: translateY(-2px);
        }
        
        /* 圣经问答助手样式 */
        .bible-qa-section {
            background-color: #f8f9ff;
            padding: 55px 0;
            margin: 60px 0;
            border-top: 1px solid var(--border-color);
            border-bottom: 1px solid var(--border-color);
            box-shadow: 0 0 30px rgba(0,0,50,0.03);
        }
        
        .bible-qa-container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .bible-qa-header {
            text-align: center;
            margin-bottom: 45px;
        }
        
        .bible-qa-title {
            color: var(--primary-color);
            margin-bottom: 16px;
            font-size: 2.2rem;
            font-weight: 600;
        }
        
        .bible-qa-subtitle {
            color: var(--text-light);
            font-size: 1.15rem;
            max-width: 650px;
            margin: 0 auto;
            line-height: 1.7;
        }
        
        .bible-qa-interface {
            display: flex;
            flex-direction: column;
            background: white;
            border-radius: 18px;
            box-shadow: 0 5px 30px rgba(0, 0, 0, 0.07);
            overflow: hidden;
            border: 1px solid rgba(230, 236, 245, 0.7);
        }
        
        .bible-qa-topics {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 22px;
            padding: 22px;
            background-color: #f0f4ff;
            border-radius: 12px;
            box-shadow: inset 0 2px 5px rgba(0,0,50,0.03);
        }
        
        .topic-btn {
            background-color: white;
            color: var(--primary-color);
            border: 1px solid var(--primary-color);
            border-radius: 20px;
            padding: 8px 16px;
            font-size: 0.95rem;
            cursor: pointer;
            transition: all 0.2s ease;
            font-weight: 500;
        }
        
        .topic-btn:hover, .topic-btn.active {
            background-color: var(--primary-color);
            color: white;
            box-shadow: 0 3px 8px rgba(58, 123, 213, 0.2);
        }
        
        .search-container {
            display: flex;
            margin-bottom: 22px;
        }
        
        .search-input {
            flex-grow: 1;
            padding: 14px 16px;
            border: 1px solid #ddd;
            border-radius: 8px 0 0 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.03);
        }
        
        .search-input:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.03), 0 0 0 3px rgba(58, 123, 213, 0.1);
        }
        
        .search-btn {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0 24px;
            border-radius: 0 8px 8px 0;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .search-btn:hover {
            background-color: var(--primary-dark);
        }
        
        .bible-qa-main {
            display: flex;
            min-height: 450px;
        }
        
        .qa-list {
            width: 320px;
            border-right: 1px solid rgba(230, 236, 245, 0.7);
            overflow-y: auto;
            padding: 0;
            margin: 0;
            background-color: rgba(250, 251, 255, 0.7);
        }
        
        .qa-list-item {
            padding: 16px 20px;
            border-bottom: 1px solid rgba(230, 236, 245, 0.7);
            cursor: pointer;
            transition: all 0.2s ease;
            list-style: none;
        }
        
        .qa-list-item:hover, .qa-list-item.active {
            background-color: #f5f8ff;
        }
        
        .qa-list-item.active {
            border-left: 3px solid var(--primary-color);
        }
        
        .qa-list-item h4 {
            font-size: 1.05rem;
            margin-bottom: 6px;
            color: #333;
            font-weight: 500;
        }
        
        .qa-list-item p {
            font-size: 0.85rem;
            color: var(--text-lighter);
            margin: 0;
            display: -webkit-box;
            -webkit-line-clamp: 2;
            -webkit-box-orient: vertical;
            overflow: hidden;
            line-height: 1.5;
        }
        
        .qa-content {
            flex-grow: 1;
            padding: 35px;
            overflow-y: auto;
        }
        
        .qa-content-header {
            margin-bottom: 24px;
            padding-bottom: 15px;
            border-bottom: 1px solid #eee;
        }
        
        .qa-content-title {
            font-size: 1.6rem;
            color: var(--primary-color);
            margin-bottom: 10px;
            font-weight: 600;
        }
        
        .qa-content-meta {
            font-size: 0.9rem;
            color: var(--text-lighter);
            display: flex;
            align-items: center;
        }
        
        .qa-content-meta:before {
            content: "";
            display: inline-block;
            width: 8px;
            height: 8px;
            background-color: #4caf50;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .qa-content-body {
            line-height: 1.8;
        }
        
        .qa-content-body p {
            margin-bottom: 16px;
            color: var(--text-color);
        }
        
        .qa-content-body h4 {
            margin: 28px 0 16px;
            color: var(--primary-color);
            font-size: 1.25rem;
            font-weight: 600;
        }
        
        .bible-verse {
            background-color: #f5f8ff;
            padding: 18px;
            margin: 18px 0;
            border-radius: 10px;
            border-left: 3px solid var(--primary-color);
            font-style: italic;
            color: #444;
            box-shadow: 0 2px 8px rgba(0,0,50,0.04);
        }
        
        .verse-reference {
            display: block;
            text-align: right;
            font-weight: 600;
            margin-top: 8px;
            font-style: normal;
            color: var(--text-light);
            font-size: 0.9rem;
        }
        
        .qa-welcome h3 {
            color: var(--primary-color);
            margin-bottom: 20px;
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .qa-welcome p {
            margin-bottom: 15px;
            line-height: 1.7;
        }
        
        .qa-welcome ul {
            margin: 20px 0 30px 25px;
        }
        
        .qa-welcome ul li {
            margin-bottom: 10px;
            position: relative;
        }
        
        .qa-welcome ul li:before {
            content: "•";
            color: var(--primary-color);
            font-weight: bold;
            position: absolute;
            left: -15px;
        }
        
        .notice-box {
            background: #e9f0ff;
            padding: 18px;
            border-radius: 10px;
            margin: 20px 0;
            border-left: 4px solid var(--primary-color);
        }
        
        .notice-title {
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            font-size: 1.05rem;
        }
        
        .notice-title:before {
            content: "ℹ️";
            margin-right: 8px;
        }
        
        .qa-custom {
            margin-top: 30px;
            padding: 25px;
            border-top: 1px solid rgba(230, 236, 245, 0.7);
            background-color: rgba(250, 251, 255, 0.7);
        }
        
        .qa-custom h3 {
            margin-bottom: 15px;
            color: var(--primary-color);
            font-size: 1.3rem;
            font-weight: 600;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 10px;
            font-weight: 500;
            color: var(--text-color);
        }
        
        .form-control {
            width: 100%;
            padding: 12px 16px;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-family: inherit;
            font-size: 1rem;
            transition: all 0.3s ease;
            resize: vertical;
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.03);
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--primary-color);
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.03), 0 0 0 3px rgba(58, 123, 213, 0.1);
        }
        
        .qa-submit-btn {
            align-self: flex-end;
            margin-top: 10px;
            padding: 12px 24px;
        }
        
        /* 步骤样式 */
        .step-container {
            margin-top: 25px;
        }
        
        .step-container h4 {
            font-size: 1.15rem;
            margin-bottom: 15px;
            color: var(--primary-color);
            font-weight: 600;
        }
        
        .step {
            display: flex;
            margin-bottom: 18px;
            align-items: flex-start;
        }
        
        .step-number {
            background-color: var(--primary-color);
            color: white;
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin-right: 12px;
            flex-shrink: 0;
            font-weight: 600;
            box-shadow: 0 2px 6px rgba(58, 123, 213, 0.2);
        }
        
        .related-resources {
            margin-top: 35px;
            padding-top: 22px;
            border-top: 1px dashed #ddd;
        }
        
        .related-resources h4 {
            margin-bottom: 15px;
            color: var(--accent-color);
            font-weight: 600;
            font-size: 1.15rem;
        }
        
        .resource-list {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }
        
        .resource-item {
            background-color: #f0f7ff;
            padding: 8px 14px;
            border-radius: 6px;
            font-size: 0.95rem;
            color: var(--primary-color);
            text-decoration: none;
            transition: all 0.2s;
            border: 1px solid rgba(58, 123, 213, 0.1);
        }
        
        .resource-item:hover {
            background-color: #e0ecff;
            transform: translateY(-2px);
            box-shadow: 0 3px 8px rgba(0,0,0,0.06);
        }
        
        @media (max-width: 768px) {
            .solutions-grid {
                grid-template-columns: 1fr;
            }
            
            h1 {
                font-size: 2.1rem;
            }
            
            .subtitle {
                font-size: 1.05rem;
            }
            
            .card-header {
                height: 150px;
            }
            
            .bible-qa-main {
                flex-direction: column;
            }
            
            .qa-list {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid #eee;
                max-height: 300px;
            }
            
            .qa-content {
                padding: 25px 20px;
            }
            
            .modal-content {
                padding: 25px 20px;
            }
            
            .topic-btn {
                font-size: 0.85rem;
                padding: 6px 12px;
            }
        }
        
        /* 动画 */
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* 页脚样式 */
        footer {
            background: #343a40;
            color: white;
            padding: 40px 20px;
            text-align: center;
            margin-top: 60px;
            box-shadow: 0 -4px 15px rgba(0,0,0,0.05);
        }
        
        footer p {
            max-width: 650px;
            margin: 0 auto 12px;
            font-size: 0.95rem;
            color: #bbb;
            line-height: 1.7;
        }
        
        /* 加载指示器 */
        .qa-loading {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 200px;
        }
        
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(58, 123, 213, 0.2);
            border-radius: 50%;
            border-top-color: var(--primary-color);
            animation: spin 1s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <!-- 方案模态框 -->
    <div class="modal-overlay" id="modalOverlay">
        <div class="modal-content">
            <div class="modal-close" id="modalClose">×</div>
            <h3 class="modal-title" id="modalTitle">经文分析与讲道准备</h3>
            
            <div class="notice-box">
                <h4 class="notice-title">网页版推荐</h4>
                <p>由于移动端浏览器限制，DeepSeek应用可能无法直接从网页打开。我们推荐使用DeepSeek网页版，体验完全相同。</p>
            </div>
            
            <div class="prompt-container">
                <div class="prompt-text" id="promptText">加载中...</div>
            </div>
            
            <button class="copy-btn" id="copyBtn">复制提示词</button>
            <span class="copy-success" id="copySuccess"></span>
            
            <div class="step-container">
                <h4>使用方法：</h4>
                <div class="step">
                    <div class="step-number">1</div>
                    <div>点击上方的"复制提示词"按钮，将预设提示词复制到剪贴板</div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div>点击下方的"打开DeepSeek网站"按钮前往官方网站（推荐）</div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div>在DeepSeek界面中，将复制的提示词粘贴到对话框中，并根据需要调整方括号中的内容</div>
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <div>按下发送按钮，开始与DeepSeek对话</div>
                </div>
            </div>
            
            <div class="deepseek-buttons">
                <button class="open-deepseek-web-btn" id="openDeepseekWebBtn">打开DeepSeek网站</button>
                <button class="open-deepseek-app-btn" id="openDeepseekAppBtn">尝试打开App</button>
            </div>
        </div>
    </div>
    
    <!-- 反馈模态框 -->
    <div class="modal-overlay" id="feedbackModalOverlay">
        <div class="modal-content">
            <div class="modal-close" id="feedbackModalClose">×</div>
            <h3 class="modal-title">提交反馈</h3>
            
            <form id="feedbackForm">
                <div class="form-group">
                    <label for="feedbackName">您的称呼</label>
                    <input type="text" id="feedbackName" class="form-control" required>
                </div>
                
                <div class="form-group">
                    <label for="feedbackEmail">电子邮箱（选填）</label>
                    <input type="email" id="feedbackEmail" class="form-control" placeholder="用于回复您的反馈">
                </div>
                
                <div class="form-group">
                    <label for="feedbackType">反馈类型</label>
                    <select id="feedbackType" class="form-control">
                        <option value="suggestion">功能建议</option>
                        <option value="bug">问题报告</option>
                        <option value="content">内容纠错</option>
                        <option value="other">其他</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="feedbackContent">反馈内容</label>
                    <textarea id="feedbackContent" class="form-control" rows="5" required></textarea>
                </div>
                
                <div id="feedbackStatus" style="display: none; margin-bottom: 15px; padding: 10px; border-radius: 5px; background-color: #f8f9fa;"></div>
                
                <button type="submit" class="submit-btn" id="submitFeedbackBtn">提交反馈</button>
            </form>
        </div>
    </div>
    
    <!-- 反馈按钮 -->
    <button class="feedback-btn" id="feedbackBtn">💬</button>
    
    <!-- 页面主体 -->
    <header>
        <div class="header-bg" id="header-canvas"></div>
        <div class="header-content">
            <h1>牧者智囊 - 传道人AI辅助工具平台</h1>
            <p class="subtitle">运用DeepSeek模型辅助教会事工，提升牧养效率与深度</p>
        </div>
    </header>
    
    <div class="container">
        <div class="intro">
            <h2 class="section-title">科技赋能信仰服侍</h2>
            <p>在信息爆炸的时代，传道人面临着多重挑战。<span class="deepseek-highlight">DeepSeek</span>作为先进的人工智能大模型，可以成为传道人的得力助手，辅助处理信息分析、内容创作和行政管理等工作，让您能更专注于灵性关怀和教导。以下方案具有高可行性，易于实施，并能带来立竿见影的效果。</p>
        </div>
        
        <div class="usage-instructions">
            <h3 class="usage-title">如何使用本页面</h3>
            <p>点击下方任意方案卡片，系统将弹出详细的操作指南和预设提示词。您只需复制提示词，然后使用我们提供的按钮打开DeepSeek网站，粘贴提示词并根据您的具体需求修改，即可快速开始AI辅助的教会服侍。</p>
        </div>
        
        <div class="solutions-grid" id="solutionsGrid">
            <!-- 方案卡片将通过JavaScript动态添加 -->
        </div>
    </div>
    
    <!-- 圣经问答助手部分 -->
    <section class="bible-qa-section">
        <div class="bible-qa-container">
            <div class="bible-qa-header">
                <h2 class="bible-qa-title">牧者AI圣经问答助手</h2>
                <p class="bible-qa-subtitle">即时解答圣经与神学问题，助力您的信仰服侍与属灵成长</p>
            </div>
            
            <div class="search-container">
                <input type="text" class="search-input" id="qaSearchInput" placeholder="输入您的圣经或神学问题...">
                <button class="search-btn" id="qaSearchBtn">搜索</button>
            </div>
            
            <div class="bible-qa-topics">
    <button class="topic-btn active" data-topic="all">全部问题</button>
    <button class="topic-btn" data-topic="theology">神学教义</button>
    <button class="topic-btn" data-topic="interpretation">释经学</button>
    <button class="topic-btn" data-topic="history">教会历史</button>
    <button class="topic-btn" data-topic="ethics">基督教伦理</button>
    <button class="topic-btn" data-topic="practical">实践牧养</button>
    <button class="topic-btn" data-topic="difficult">难解经文</button>
    <button class="topic-btn" data-topic="comparative">比较宗教</button>
</div>
            
            <div class="bible-qa-interface">
                <div class="bible-qa-main">
                    <ul class="qa-list" id="qaList">
                        <!-- 问题列表动态生成 -->
                    </ul>
                    
                    <div class="qa-content" id="qaContent">
                        <!-- 问题内容区域 -->
                        <div class="qa-welcome" id="qaWelcome">
                            <h3>欢迎使用牧者AI圣经问答助手</h3>
                            <p>这里收录了传道人和信徒常见的圣经和神学问题，并提供了经过神学审核的高质量回答。您可以：</p>
                            <ul>
                                <li>从左侧列表选择问题</li>
                                <li>使用上方搜索框查找特定问题</li>
                                <li>点击主题标签筛选不同类别</li>
                                <li>或在下方提交您自己的问题</li>
                            </ul>
                            <p>所有回答均基于圣经教导和正统神学观点，并经过神学背景的同工审核。</p>
                            
                            <div class="notice-box">
                                <h4 class="notice-title">温馨提示</h4>
                                <p>本工具旨在辅助您的圣经学习和牧养工作，不能替代个人的祷告和圣灵的带领。请在使用过程中保持属灵分辨力，将圣经作为最终权威。</p>
                            </div>
                        </div>
                        
                        <div class="qa-loading" id="qaLoading" style="display: none;">
                            <div class="spinner"></div>
                        </div>
                        
                        <div class="qa-result" id="qaResult" style="display: none">
                            <!-- 问题答案区域 -->
                        </div>
                    </div>
                </div>
                
                <div class="qa-custom">
                    <h3>没有找到您想要的答案？</h3>
                    <form class="qa-custom-form" id="qaCustomForm">
                        <div class="form-group">
                            <label for="customQuestion">提交您的圣经或神学问题</label>
                            <textarea id="customQuestion" class="form-control" rows="4" placeholder="例如：约翰福音3:16如何理解？或者：基督教对生命伦理有什么教导？"></textarea>
                        </div>
                        <button type="submit" class="qa-submit-btn">提交问题</button>
                    </form>
                </div>
            </div>
        </div>
    </section>
    
    <footer>
        <p>&copy; 2025 牧者智囊 | 技术支持信仰，信仰引导技术</p>
        <p>本资源旨在为传道人提供AI应用思路，请在实际使用中保持属灵分辨力，将DeepSeek作为辅助工具而非替代属灵判断和带领。</p>
    </footer>

    <script>
        // 提示词模板数据
        const promptTemplates = {
            1: `我是一位传道人，需要帮助准备讲道。请协助我对以下经文进行分析，提供多角度的释经观点、历史文化背景，并生成讲道大纲：[这里输入您要分析的经文]。请包含：1. 经文主题和核心信息 2. 重要神学概念解析 3. 历史背景和文化上下文 4. 3-5个可能的讲道切入点 5. 符合经文主题的完整讲道大纲 6. 适用的例证和应用点建议`,
            
            2: `我是一位教会传道人，需要帮助处理教会行政工作。请协助我：[选择以下一项或多项任务]
1. 将这份会议录音/笔记整理为结构化会议纪要，提取关键决策和行动项目
2. 为教会[活动名称]活动制定详细的策划方案，包括时间表、人员安排和资源需求
3. 根据这些数据生成教会月度/季度/年度报告，分析关键指标和趋势
4. 帮我优化这份教会事工计划表，提高效率并减少资源冲突
5. 为教会财务数据进行分析，提供预算规划建议

请在回答中提供清晰的结构和实用建议，以便我能够高效完成行政工作。`,
            
            3: `我是一位教会传道人，需要为会友创建个性化的灵修和辅导资源。请协助我为以下群体/需求创建定制化的资源：

目标群体：[选择一项：青少年、职场信徒、年长信徒、新信徒、婚姻家庭、面临挑战的信徒]

需要创建的资源类型：[选择一项：
1. 为期7天的灵修计划，包含每日经文、反思问题和应用点
2. 小组讨论指南，包含破冰问题、核心讨论题和应用实践
3. 主题式查经资料，深入探讨特定圣经主题
4. 信仰生活辅导资源，帮助会友面对具体挑战
5. 教导/培训资料，帮助提升特定属灵素质]

主题/焦点：[输入具体主题，如「信心」、「面对压力」、「家庭关系」等]

请提供完整、实用且符合圣经教导的内容，语言要适合目标群体的理解水平和生活处境。`,
            
            4: `我是一名教会传道人/宣教士，需要协助处理多语言翻译和跨文化沟通工作。请帮我完成以下任务：

任务类型：[选择一项：
1. 将以下中文教会资料翻译成[目标语言]，保持神学准确性和文化适应性
2. 为我提供关于[目标文化/国家]的文化背景知识，包括禁忌、沟通习惯和信仰相关文化差异
3. 帮我改写以下内容，使其更适合[目标文化/语言]的受众理解
4. 为多语言教会环境提供双语/多语言资源制作建议]

文本/内容：[粘贴需要翻译或改写的内容，或描述您需要了解的文化背景]

特别要求：
- 保持原文的神学准确性和核心信息
- 考虑目标文化的习惯和表达方式
- 使用适合教会/宣教场景的措辞和术语
- 提供文化背景解释（如适用）

请提供专业、准确且文化敏感的翻译/建议，帮助我有效开展跨文化事工。`,
            
            5: `我是一位教会传道人，需要创建高质量的数字媒体内容来拓展教会的线上影响力。请协助我：

内容类型：[选择一项：
1. 教会公众号/社交媒体文章
2. 教会简报/电子期刊内容
3. 福音/信仰相关的视频脚本
4. 信仰类播客内容大纲
5. 教会网站内容更新]

主题：[输入具体主题，如「信心与行为」、「圣诞节的真正意义」等]

目标受众：[描述目标受众，如「未信者」、「新信徒」、「全教会」、「年轻人」等]

风格要求：
- 贴近目标受众的语言风格和关注点
- 保持神学准确性和合乎圣经
- 包含引人思考的问题和实际应用
- 适合在数字平台上传播和分享

请提供完整的内容草稿，包括标题、正文和适当的小标题结构。内容应既有深度又容易理解，能吸引目标受众的兴趣并传递核心信息。`,
            
            6: `我是一位使用和合本圣经的传道人，需要基于三代经课系统进行讲道预备。请协助我：

经课系统：[选择一项：修订标准本(RCL)、天主教经课(Roman Catholic Lectionary)、通用经课(Common Lectionary)]

当前时期/节期：[请指明：如"复活节后第三主日"、"大斋期第二主日"、"圣诞节"等，如果不确定，可以直接输入当前日期，如"2025年3月15日"]

需求类型：[选择一项：
1. 提供本周经课中所有经文的和合本经文引用和概览，并分析共同主题
2. 分析指定经文与当前节期的神学关联，使用和合本的表述和术语
3. 比较不同经课系统对同一主日/节期的经文选择差异，提供和合本参考
4. 为未来4-6周的讲道系列提供基于经课的规划建议，考虑和合本经文特点]

特别考量：[可选，如"适合小组查经"、"需要关注社会公义主题"、"与青少年事工结合"等]

请提供：
1. 选定经课系统中相关经文的完整列表，使用和合本的章节标识和表述
2. 经文之间的主题联系和神学重点，注意使用符合和合本语境的神学术语
3. 符合新教传统的释经要点和应用方向，特别考虑和合本读者群体的理解习惯
4. 若引用经文原文，请使用和合本的表述，并在必要时说明与其他译本的重要差异
5. 针对我需求的具体建议和参考资源，优先推荐基于和合本的材料

注意：如果我不确定当前的教会节期，请先帮我确定今天或本周主日对应的节期，然后再提供相应的经课经文和分析。`,

            7: `我是一位传道人/信徒，需要您帮助解答以下圣经或神学问题：[这里输入您的问题]

请提供：
1. 对问题的全面解答，包括不同神学传统的观点（如适用）
2. 相关圣经经文引用（优先使用和合本表述）
3. 关键神学概念的解释
4. 如涉及原文，请提供希伯来文/希腊文分析
5. 问题在教会历史中的讨论脉络（如适用）
6. 实际应用建议

回答要神学上准确、解经上合理、表述上清晰，适合我作为传道人/信徒理解并用于教导或个人成长。`
        };

        // 方案卡片数据
        const solutionCards = [
            {
                id: 1,
                title: "经文分析与讲道准备",
                description: "利用DeepSeek的强大文本理解和知识整合能力，辅助经文研究和讲道准备工作，提高备课效率。",
                benefits: [
                    "快速分析经文主题、背景、神学要点",
                    "生成多角度的讲道大纲和框架",
                    "汇总相关圣经参考经文和释经资源",
                    "提供历史和文化背景补充资料"
                ],
                tips: "将经文输入DeepSeek，要求其分析主题、上下文，并生成不同角度的讲解思路。结合圣经软件和DeepSeek的分析结果，创建个人化的讲道体系。每周固定使用AI辅助初步研经，然后自行深化内容。"
            },
            {
                id: 6,
                title: "三代经课讲道预备",
                description: "基于三代经课系统选择经文，辅助传道人进行系统性讲道预备，专为使用和合本圣经的教会环境优化。",
                benefits: [
                    "获取特定节期的完整和合本经课经文",
                    "分析经文间的主题联系，使用和合本术语",
                    "理解经文与教会年历的神学关联",
                    "基于和合本经文特点规划连续性讲道"
                ],
                tips: "建立整年的三代经课日历，每周提前使用DeepSeek分析即将到来的主日经课；将经课分析与教会季节和节期主题结合；开发基于和合本经文的小组讨论材料，形成从主日讲台到小组的一体化牧养体系。"
            },
            {
                id: 2,
                title: "自动化教会行政",
                description: "通过DeepSeek处理日常行政事务，减轻传道人的管理压力，释放更多时间用于核心牧养工作。",
                benefits: [
                    "会议记录整理与关键点提取",
                    "活动策划与日程安排优化",
                    "自动生成各类报告和文档",
                    "财务数据分析与预算规划辅助"
                ],
                tips: "将会议录音转为文字后交由DeepSeek整理为会议纪要；制作标准模板，让AI按规范生成周报、月报；建立教会活动的标准操作流程，由AI提供策划思路和任务分解；使用电子表格结合DeepSeek进行财务数据分析。"
            },
            {
                id: 3,
                title: "个性化辅导资源库",
                description: "借助DeepSeek的自然语言处理能力，为不同群体创建个性化的灵修和辅导资源，提升牧养针对性。",
                benefits: [
                    "根据不同信徒需求生成灵修材料",
                    "为特定生活挑战提供圣经辅导资源",
                    "创建主题式的查经和小组讨论指南",
                    "设计针对不同年龄层的信仰教育内容"
                ],
                tips: "根据会友类型(如青少年、职场人士、年长者)建立基础模板，使用DeepSeek生成适合各群体的灵修材料；收集常见的信仰和生活问题，由AI协助创建应对资源库；为教会各部门制作独特的学习和讨论资料。"
            },
            {
                id: 4,
                title: "多语言服侍与翻译",
                description: "利用DeepSeek的多语言能力，突破语言障碍，促进跨文化交流和宣教工作的展开。",
                benefits: [
                    "讲道内容和教材的多语言翻译",
                    "宣教资料的本地化适配",
                    "跨文化沟通和理解促进",
                    "多语言教会资源库建设"
                ],
                tips: "将教会核心材料通过DeepSeek翻译为目标语言，并请懂该语言的同工校对；制作多语言的欢迎包和介绍资料；建立翻译流程，定期更新多语言资源库；为宣教士提供目标文化的表达方式和禁忌指南。"
            },
            {
                id: 5,
                title: "媒体内容创作",
                description: "借助DeepSeek辅助创建各类媒体内容，增强教会在数字平台的影响力，触及更广泛的人群。",
                benefits: [
                    "公众号文章和社交媒体内容创作",
                    "教会简报和电子刊物编辑",
                    "网站内容和SEO优化建议",
                    "信仰类视频脚本和播客内容策划"
                ],
                tips: "制定内容日历，使用DeepSeek为每周的主题生成初稿；建立教会品牌风格指南，确保AI创作符合教会特色；使用主题模板，让AI协助丰富内容细节；结合时事热点，由AI提供基督教视角的回应方案。"
            },
            {
                id: 7,
                title: "圣经问答助手",
                description: "使用AI辅助解答常见神学问题与经文疑惑，为传道人和信徒提供即时的圣经知识支持。",
                benefits: [
                    "解答复杂的神学概念与教义问题",
                    "分析经文难解之处与上下文关联",
                    "提供各宗派传统的解经观点",
                    "支持希腊文、希伯来文等原文分析"
                ],
                tips: "建立常见神学问题库，预先整理高质量答案；将问答结果与和合本经文引用相结合；针对查经小组常见问题提供参考答案；结合牧者的解经智慧和AI的信息处理能力，打造互补的教导体系。"
            }
        ];

        // 圣经问答数据
        const bibleQAData = [
            {
                id: 1,
                title: "预定论与自由意志如何协调？",
                topic: "theology",
                shortDesc: "探讨神的主权与人类自由意志之间的关系...",
                content: `<div class="qa-content-header">
                    <h3 class="qa-content-title">预定论与自由意志如何协调？</h3>
                    <div class="qa-content-meta">主题: 神学教义 | 审核: 已审核</div>
                </div>
                <div class="qa-content-body">
                    <p>预定论与自由意志的协调是基督教神学中最深刻的议题之一，不同神学传统对此有不同的理解和解释。</p>
                    
                    <h4>不同神学传统的观点</h4>
                    <p><strong>加尔文主义观点</strong>：强调神的绝对主权，认为神从创世前已预定一切，包括人的得救。人虽有意志自由，但受限于罪性，无法靠自己选择神。神使选民经历恩典，不可抗拒地引领他们归向祂。</p>
                    
                    <p><strong>阿民念主义观点</strong>：强调人的责任和选择自由，认为虽然神预先知道谁会信，但祂让人自由选择。神的预定建立在祂对人自由选择的预知上，而非强制性决定。</p>
                    
                    <p><strong>莫利纳主义</strong>：试图调和上述两种观点，提出"中间知识"的概念，即神不仅知道会发生什么，也知道在每种可能情况下人会做什么选择。祂的预定考虑到了这些可能的选择。</p>
                    
                    <div class="bible-verse">
                        耶和华对他说："谁造人的口呢？谁使人口哑、耳聋、目明、眼瞎呢？岂不是我耶和华吗？"
                        <span class="verse-reference">出埃及记 4:11 (和合本)</span>
                    </div>
                    
                    <div class="bible-verse">
                        就如神从创立世界以前，在基督里拣选了我们，使我们在他面前成为圣洁，无有瑕疵。
                        <span class="verse-reference">以弗所书 1:4 (和合本)</span>
                    </div>
                    
                    <h4>协调的神学尝试</h4>
                    <p>实际上，圣经既肯定神的主权，也确认人的责任，这两方面真理似乎在人类逻辑中难以完全协调，但在神的智慧中和谐共存：</p>
                    
                    <p>1. <strong>奥秘性</strong>：承认这是超越人类理解的神圣奥秘，两个真理并行不悖。</p>
                    
                    <p>2. <strong>双重因果链</strong>：神的旨意和人类选择可被视为同一事件的两个不同维度的原因，如约瑟被卖到埃及，既有人的恶意，也有神的美意。</p>
                    
                    <h4>实际应用</h4>
                    <p>这一教义的实际应用在于：</p>
                    <p>1. 培养谦卑：我们得救完全是恩典，无可夸口</p>
                    <p>2. 确信神的掌管：在混乱世界中坚信神掌权</p>
                    <p>3. 承担责任：认真对待每个选择，因我们要为自己的行为负责</p>
                    <p>4. 传福音的热忱：既信神预定，又尽责任传福音</p>
                </div>
                <div class="related-resources">
                    <h4>相关资源推荐</h4>
                    <div class="resource-list">
                        <a href="#" class="resource-item">《基督教要义》- 加尔文</a>
                        <a href="#" class="resource-item">《系统神学》- 韦恩·格鲁登</a>
                        <a href="#" class="resource-item">《拣选与自由意志》- 巴刻</a>
                    </div>
                </div>`
            },
            {
                id: 2,
                title: "何谓'因信称义'？行为的角色是什么？",
                topic: "theology",
                shortDesc: "探讨信心与行为在救恩中的关系...",
                content: `<div class="qa-content-header">
                    <h3 class="qa-content-title">何谓'因信称义'？行为的角色是什么？</h3>
                    <div class="qa-content-meta">主题: 神学教义 | 审核: 已审核</div>
                </div>
                <div class="qa-content-body">
                    <p>因信称义是宗教改革的核心教义之一，探讨人如何在神面前被称为义人。这一教义与基督徒行为的关系常引起讨论。</p>
                    
                    <h4>因信称义的含义</h4>
                    <p>"称义"在圣经中是法律术语，指神宣告罪人为义。这不是因人本身有义，而是基督的义通过信心归算给信徒。保罗在罗马书和加拉太书中强调，人称义不是靠行律法，乃是因信耶稣基督。</p>
                    
                    <div class="bible-verse">
                        人称义是因着信，不在乎遵行律法。
                        <span class="verse-reference">罗马书 3:28 (和合本)</span>
                    </div>
                    
                    <h4>信心的本质</h4>
                    <p>救恩中的信心不仅是头脑认知，也不仅是情感回应，而是对基督的全人信靠与委身。这包括：</p>
                    <p>1. <strong>认知</strong>：了解并接受福音真理</p>
                    <p>2. <strong>认同</strong>：认同这真理适用于自己</p>
                    <p>3. <strong>信靠</strong>：将生命完全交托给基督</p>
                    
                    <h4>行为的角色</h4>
                    <p>虽然我们因信称义，但圣经也明确表示行为在基督徒生活中至关重要：</p>
                    
                    <div class="bible-verse">
                        这样，信心若没有行为就是死的。
                        <span class="verse-reference">雅各书 2:17 (和合本)</span>
                    </div>
                    
                    <p>行为在救恩中的角色可以理解为：</p>
                    
                    <p>1. <strong>行为不是称义的原因</strong>：我们不是因行善而得救</p>
                    <p>2. <strong>行为是真信心的果子</strong>：真正的信心必然产生相应的行为</p>
                    <p>3. <strong>行为是信心的证据</strong>：我们的行为显明我们信心的真实性</p>
                </div>
                <div class="related-resources">
                    <h4>相关资源推荐</h4>
                    <div class="resource-list">
                        <a href="#" class="resource-item">《因信称义》- 约翰·派博</a>
                        <a href="#" class="resource-item">《罗马书注释》- 道格拉斯·牧</a>
                        <a href="#" class="resource-item">《因信得生》- 彭德修</a>
                    </div>
                </div>`
            },
            {
                id: 3,
                title: "如何解释约翰福音3:16？",
                topic: "interpretation",
                shortDesc: "深入分析这节著名经文的神学含义...",
                content: `<div class="qa-content-header">
                    <h3 class="qa-content-title">如何解释约翰福音3:16？</h3>
                    <div class="qa-content-meta">主题: 释经学 | 审核: 已审核</div>
                </div>
                <div class="qa-content-body">
                    <p>约翰福音3:16被誉为"小圣经"，是整本圣经中最广为人知的经文之一，浓缩了福音的核心信息。</p>
                    
                    <div class="bible-verse">
                        神爱世人，甚至将他的独生子赐给他们，叫一切信他的，不至灭亡，反得永生。
                        <span class="verse-reference">约翰福音 3:16 (和合本)</span>
                    </div>
                    
                    <h4>原文分析</h4>
                    <p>在希腊原文中，这节经文包含几个关键词：</p>
                    <p>- "爱"（ἠγάπησεν, agapaō）：表示牺牲性、选择性的爱，不是情感冲动或欣赏</p>
                    <p>- "世人"（κόσμον, kosmos）：指整个人类世界，特别是堕落的世界秩序</p>
                    <p>- "独生子"（μονογενῆ, monogenēs）：意为"独特的"、"一类的"，强调基督的独特性</p>
                    
                    <h4>神学主题</h4>
                    <p><strong>1. 神的爱</strong></p>
                    <p>这节经文首先展示了神的爱的广度与深度。神爱的对象是"世人"——不仅指一部分人，而是整个堕落的人类。"甚至"（οὕτως, houtōs）一词强调这爱的程度之深——深到愿意付出自己独生子的地步。</p>
                    
                    <p><strong>2. 神的恩赐</strong></p>
                    <p>"将他的独生子赐给"展示了救恩是神的恩赐，不是人赚取的。基督是父神最珍贵的恩赐，表明救恩的代价之高。</p>
                    
                    <p><strong>3. 人的回应</strong></p>
                    <p>"叫一切信他的"指明了人对神恩赐的适当回应是信心。这信心不只是头脑认同，而是全人委身与信靠。</p>
                </div>
                <div class="related-resources">
                    <h4>相关资源推荐</h4>
                    <div class="resource-list">
                        <a href="#" class="resource-item">《约翰福音注释》- D.A. Carson</a>
                        <a href="#" class="resource-item">《认识真理》- J.I. 巴刻</a>
                        <a href="#" class="resource-item">《约翰福音讲道集》- 提摩太·凯勒</a>
                    </div>
                </div>`
            },
            {
                id: 4,
                title: "基督教如何看待同性恋问题？",
                topic: "ethics",
                shortDesc: "从圣经和神学角度分析同性恋伦理议题...",
                content: `<div class="qa-content-header">
                    <h3 class="qa-content-title">基督教如何看待同性恋问题？</h3>
                    <div class="qa-content-meta">主题: 基督教伦理 | 审核: 已审核</div>
                </div>
                <div class="qa-content-body">
                    <p>同性恋问题是当代教会面临的复杂伦理议题。在回应这一问题时，基督徒需要同时持守圣经真理与基督的爱。</p>
                    
                    <h4>圣经教导</h4>
                    <p>圣经中涉及同性性行为的经文主要有：</p>
                    
                    <div class="bible-verse">
                        不可与男人同寝，像与女人同寝一样，这本是可憎恶的。
                        <span class="verse-reference">利未记 18:22 (和合本)</span>
                    </div>
                    
                    <div class="bible-verse">
                        所以，神任凭他们放纵可羞耻的情欲。他们的女人把顺性的用处变为逆性的用处；男人也是如此，弃了女人顺性的用处，欲火攻心，彼此贪恋，男和男行可羞耻的事，就在自己身上受这妄为当得的报应。
                        <span class="verse-reference">罗马书 1:26-27 (和合本)</span>
                    </div>
                    
                    <h4>牧养智慧与实践</h4>
                    <p>无论持何种立场，基督徒在回应同性恋议题时都应当：</p>
                    
                    <p>1. <strong>避免双重标准</strong>：不将同性恋罪视为比其他罪更严重</p>
                    <p>2. <strong>拒绝仇恨与偏见</strong>：基督徒蒙召爱每一个人，包括有同性吸引的人</p>
                    <p>3. <strong>提供团契与支持</strong>：教会应成为所有挣扎者的避难所</p>
                    <p>4. <strong>持守恩典与真理平衡</strong>：像耶稣一样，满有恩典与真理（约1:14）</p>
                </div>
                <div class="related-resources">
                    <h4>相关资源推荐</h4>
                    <div class="resource-list">
                        <a href="#" class="resource-item">《爱的勇气与真理》- 陈琴富</a>
                        <a href="#" class="resource-item">《同性恋与基督信仰》- 麦伟恩</a>
                        <a href="#" class="resource-item">《属神的性》- 赵崇明</a>
                    </div>
                </div>`
            },
            {
                id: 5,
                title: "旧约中的暴力与新约中的爱神如何和谐？",
                topic: "difficult",
                shortDesc: "探讨圣经中看似矛盾的神的形象...",
                content: `<div class="qa-content-header">
                    <h3 class="qa-content-title">旧约中的暴力与新约中的爱神如何和谐？</h3>
                    <div class="qa-content-meta">主题: 难解经文 | 审核: 已审核</div>
                </div>
                <div class="qa-content-body">
                    <p>圣经读者常感困惑的一个问题是：旧约中神似乎更注重审判和战争，而新约中的神则强调爱和怜悯。这种表面上的矛盾如何理解？</p>
                    
                    <h4>解释进路</h4>
                    <p><strong>1. 神的属性一致性</strong></p>
                    <p>首先，圣经清楚教导神是不变的（玛3:6；来13:8）。神在旧约和新约中都显明了祂爱的属性，也都显明了祂的公义：</p>
                    
                    <div class="bible-verse">
                        耶和华在他面前宣告说："耶和华，耶和华，是有怜悯有恩典的神，不轻易发怒，并有丰盛的慈爱和诚实。"
                        <span class="verse-reference">出埃及记 34:6 (和合本)</span>
                    </div>
                    
                    <p><strong>2. 渐进启示的角度</strong></p>
                    <p>神的启示是渐进的，祂按人类历史发展的阶段和人们领受能力的程度逐渐展开祂的计划。旧约为新约预备了基础，基督的到来是神启示的高峰。</p>
                    
                    <h4>旧约中的爱与怜悯</h4>
                    <p>重要的是，旧约充满了神爱和怜悯的例子：</p>
                    <p>- 亚当夏娃犯罪后，神为他们做衣服（创3:21）</p>
                    <p>- 神拯救挪亚和他的家人（创6-9章）</p>
                    <p>- 神对亚伯拉罕的呼召和应许（创12章）</p>
                    <p>- 神对尼尼微城的怜悯（约拿书）</p>
                </div>
                <div class="related-resources">
                    <h4>相关资源推荐</h4>
                    <div class="resource-list">
                        <a href="#" class="resource-item">《难解之经》- 保罗·科佩</a>
                        <a href="#" class="resource-item">《认识神》- J.I. 巴刻</a>
                        <a href="#" class="resource-item">《神的智慧》- 莱尔</a>
                    </div>
                </div>`
            },
            {
                id: 6,
                title: "基督徒如何理解和处理抑郁？",
                topic: "practical",
                shortDesc: "从信仰角度探讨抑郁症及其应对方法...",
                content: `<div class="qa-content-header">
                    <h3 class="qa-content-title">基督徒如何理解和处理抑郁？</h3>
                    <div class="qa-content-meta">主题: 实践牧养 | 审核: 已审核</div>
                </div>
                <div class="qa-content-body">
                    <p>抑郁是许多基督徒面临的现实挑战，常常伴随着对信仰的疑问：为何神允许此事发生？信心不足是否导致抑郁？</p>
                    
                    <h4>圣经中的抑郁</h4>
                    <p>虽然圣经没有直接使用"抑郁症"这一现代医学术语，但描述了类似抑郁的情绪状态：</p>
                    
                    <div class="bible-verse">
                        我的心在我里面忧闷，死亡的惊惶临到我身。恐惧战兢归到我身，惊恐漫过我身。
                        <span class="verse-reference">诗篇 55:4-5 (和合本)</span>
                    </div>
                    
                    <div class="bible-verse">
                        我为何如此忧闷？为何在我里面烦躁？
                        <span class="verse-reference">诗篇 42:5 (和合本)</span>
                    </div>
                    
                    <h4>抑郁的多元原因</h4>
                    <p>基督教理解应当认识到抑郁的多方面成因：</p>
                    
                    <p>1. <strong>生物学因素</strong>：神经递质失衡、遗传倾向、身体疾病等</p>
                    <p>2. <strong>心理因素</strong>：认知模式、童年经历、创伤等</p>
                    <p>3. <strong>社会因素</strong>：关系问题、社会压力、生活变化等</p>
                    <p>4. <strong>灵性因素</strong>：信仰危机、罪疚感、属灵争战等</p>
                    <p>5. <strong>存在性因素</strong>：意义感缺失、生命目标不明确等</p>
                </div>
                <div class="related-resources">
                    <h4>相关资源推荐</h4>
                    <div class="resource-list">
                        <a href="#" class="resource-item">《属灵抑郁症》- 马丁·劳埃德·琼斯</a>
                        <a href="#" class="resource-item">《黑暗中的恩典》- 韦尔奇</a>
                        <a href="#" class="resource-item">《灵魂的黑夜》- 圣约翰</a>
                    </div>
                </div>`
            },
            {
                id: 7,
                title: "圣经是如何形成的？如何知道正典是可靠的？",
                topic: "history",
                shortDesc: "探讨圣经正典的形成历史与权威性...",
                content: `<div class="qa-content-header">
                    <h3 class="qa-content-title">圣经是如何形成的？如何知道正典是可靠的？</h3>
                    <div class="qa-content-meta">主题: 教会历史 | 审核: 已审核</div>
                </div>
                <div class="qa-content-body">
                    <p>圣经的形成过程与正典权威的确立是基督教信仰的基础问题。这一过程涉及历史、神学和信仰多个层面的深入思考。</p>
                    
                    <h4>圣经的形成过程</h4>
                    <p><strong>旧约正典形成</strong></p>
                    <p>旧约的形成大致可分为三个阶段：</p>
                    <p>1. <strong>律法书(妥拉)</strong>：摩西五经约成形于公元前1400-1200年间，被视为最早确立的正典部分</p>
                    <p>2. <strong>先知书</strong>：包括前先知书(约书亚-列王记)和后先知书(大小先知书)，约在公元前400年完成</p>
                    <p>3. <strong>圣卷</strong>：包括诗歌智慧书和历代志等，约在公元前200年左右完成</p>
                    
                    <p><strong>新约正典形成</strong></p>
                    <p>新约正典的形成过程：</p>
                    <p>1. <strong>写作阶段</strong>：新约各卷在公元50-100年间陆续写成</p>
                    <p>2. <strong>收集与流传</strong>：各地教会开始收集和交换使徒的书信和福音书</p>
                    <p>3. <strong>初步共识</strong>：到公元200年左右，大部分新约书卷已被广泛接受</p>
                    <p>4. <strong>正式确认</strong>：公元367年，亚他那修在复活节信函中列出了现今的27卷新约书目</p>
                </div>
                <div class="related-resources">
                    <h4>相关资源推荐</h4>
                    <div class="resource-list">
                        <a href="#" class="resource-item">《圣经导论》- 费依</a>
                        <a href="#" class="resource-item">《圣经正典》- 布鲁斯</a>
                        <a href="#" class="resource-item">《圣经的由来》- 潘霍华</a>
                    </div>
                </div>`
            },
            {
    id: 8,
    title: "基督教、佛教和伊斯兰教的关系与区别",
    topic: "comparative",
    shortDesc: "比较三大世界宗教的核心信仰与差异...",
    content: `<div class="qa-content-header">
        <h3 class="qa-content-title">基督教、佛教和伊斯兰教的关系与区别</h3>
        <div class="qa-content-meta">主题: 比较宗教 | 审核: 已审核</div>
    </div>
    <div class="qa-content-body">
        <p>基督教、佛教和伊斯兰教是世界上影响最广泛的三大宗教，它们在历史起源、核心教义、信仰实践和世界观上有显著差异。了解这些差异对传道人进行跨文化沟通和宣教工作具有重要意义。</p>
        
        <h4>历史起源</h4>
        <p><strong>基督教</strong>：起源于公元1世纪的犹太背景，以耶稣基督的生平、教导、死亡和复活为中心。基督教将自己视为对犹太信仰的应验和延续。</p>
        
        <p><strong>佛教</strong>：起源于公元前6-5世纪的古印度，由悉达多·乔达摩（佛陀）创立。佛陀本人出生于印度教背景，但其教导代表了对当时印度宗教传统的改革。</p>
        
        <p><strong>伊斯兰教</strong>：创立于公元7世纪的阿拉伯半岛，由穆罕默德先知所传达。伊斯兰教认为自己是亚伯拉罕信仰传统的延续和纠正，承认犹太教和基督教的部分经典，但认为这些经典已被篡改。</p>
        
        <h4>神观与终极现实</h4>
        <p><strong>基督教</strong>：信仰一位有格位的创造主上帝，强调上帝是三位一体的——圣父、圣子、圣灵。上帝既超越世界又与世界互动，通过耶稣基督道成肉身并启示自己。</p>
        
        <div class="bible-verse">
            太初有道，道与神同在，道就是神。这道太初与神同在。万物是藉着他造的；凡被造的，没有一样不是藉着他造的。
            <span class="verse-reference">约翰福音 1:1-3 (和合本)</span>
        </div>
        
        <p><strong>佛教</strong>：不信仰有格位的创造主神。在大乘佛教中有诸多佛和菩萨，但这些并非神明而是觉悟者。最终现实是"空"或"法性"，超越概念性思维的范畴。佛教认为世界本质是无常、无我和苦。</p>
        
        <p><strong>伊斯兰教</strong>：信仰严格的一神论（tawhid），安拉是唯一的神，没有伙伴，不可被形象化，并且在本质上与被造物截然不同。穆斯林认为三位一体的概念是对一神信仰的背离。</p>
        
        <h4>人性与救赎观</h4>
        <p><strong>基督教</strong>：人按神的形象被造，本质上有价值，但因亚当夏娃的原罪而与神隔绝，需要救赎。救赎完全是神的恩典，通过耶稣基督在十字架上的代赎牺牲实现，人通过信心接受。</p>
        
        <div class="bible-verse">
            因为世人都犯了罪，亏缺了神的荣耀；如今却蒙神的恩典，因基督耶稣的救赎，就白白地称义。
            <span class="verse-reference">罗马书 3:23-24 (和合本)</span>
        </div>
        
        <p><strong>佛教</strong>：不接受创造的概念，认为人类和所有众生都受制于"轮回"（samsara）。痛苦的根源是"我执"和"贪爱"。救赎（或曰"解脱"）通过修行八正道、消除贪嗔痴而实现觉悟，最终达到涅槃，超越轮回。</p>
        
        <p><strong>伊斯兰教</strong>：人被创造为神的仆人（abd），本性是纯洁的，但容易被误导。人不背负原罪，而是需要引导。救赎通过对安拉的顺服和遵守伊斯兰的五大支柱获得，最终由安拉根据个人行为和信仰判决。</p>
        
        <h4>传福音与宣教考量</h4>
        <p>与不同宗教背景的人分享福音时，以下几点可能有所帮助：</p>
        
        <p><strong>与佛教徒交流</strong>：</p>
        <p>- 重视慈悲和对苦难的关注这一共同点</p>
        <p>- 探讨基督信仰如何提供对苦难的独特解释和回应</p>
        <p>- 强调与神的个人关系，这是佛教所缺少的</p>
        <p>- 避免使用"信心"或"解脱"等在两种宗教中含义不同的术语</p>
        
        <p><strong>与穆斯林交流</strong>：</p>
        <p>- 承认共同的一神信仰根基，尊重他们对安拉的敬畏</p>
        <p>- 谨慎清晰地解释三位一体和基督的神性</p>
        <p>- 强调基督教的恩典与伊斯兰行为导向的救赎观之间的区别</p>
        <p>- 尊重文化差异，避免可能被视为亵渎的言行</p>
    </div>
    <div class="related-resources">
        <h4>相关资源推荐</h4>
        <div class="resource-list">
            <a href="https://www.ivpress.com/neighbors-faith" target="_blank" class="resource-item">《邻舍的信仰》- 温伯格</a>
            <a href="https://zondervanacademic.com/products/encountering-world-religions" target="_blank" class="resource-item">《面对世界宗教》- 艾文·赫克斯特拉</a>
            <a href="https://www.bakerbooks.com/sharing-your-faith-with-a-buddhist" target="_blank" class="resource-item">《与佛教徒分享信仰》- 马文·毛瑞</a>
        </div>
    </div>`
},
{
    id: 9,
    title: "基督教与天主教：异同与关系",
    topic: "comparative",
    shortDesc: "探讨新教与天主教的历史、教义差异与共同点...",
    content: `<div class="qa-content-header">
        <h3 class="qa-content-title">基督教与天主教：异同与关系</h3>
        <div class="qa-content-meta">主题: 比较宗教 | 审核: 已审核</div>
    </div>
    <div class="qa-content-body">
        <p>新教（更准确地说是"基督教的新教传统"）与天主教同属基督信仰大家庭，在核心信仰上有许多共同点，但在神学理解、教会结构和信仰实践等方面也存在重要差异。理解这些异同有助于促进对话并澄清自身信仰立场。</p>
        
        <h4>历史渊源</h4>
        <p>天主教和新教共享初代教会和中世纪教会的历史。新教源于16世纪的宗教改革，当时马丁·路德、约翰·加尔文、茨温利等人对当时罗马天主教会的某些做法和教义提出质疑。最初，改教者并非意图创立新的宗派，而是希望改革现有教会，但最终导致了分离。</p>
        
        <p>宗教改革的主要关切点包括：</p>
        <p>- 教会权威与个人解经自由</p>
        <p>- 救恩的本质与获得方式</p>
        <p>- 教会礼仪与圣礼的性质</p>
        <p>- 中保的角色（圣人、玛利亚与基督）</p>
        
        <h4>核心共同点</h4>
        <p>天主教和新教在基督信仰的核心教义上有广泛共识：</p>
        
        <p>1. <strong>三位一体</strong>：两者都信奉三位一体的上帝——圣父、圣子和圣灵，三位一体同质同荣。</p>
        
        <p>2. <strong>基督论</strong>：两者都认信基督的完全神性和完全人性，以及祂通过道成肉身、十字架受死和复活所成就的救赎工作。</p>
        
        <div class="bible-verse">
            道成了肉身，住在我们中间，充充满满地有恩典有真理。我们也见过他的荣光，正是父独生子的荣光。
            <span class="verse-reference">约翰福音 1:14 (和合本)</span>
        </div>
        
        <h4>主要神学差异</h4>
        
        <p><strong>1. 救恩论</strong></p>
        <p>- <strong>天主教</strong>：强调恩典与行为的协作。救恩是一个过程，涉及圣礼(特别是洗礼)、信心和爱的行为。信徒通过参与圣礼和过圣洁生活获取成圣恩典。</p>
        <p>- <strong>新教</strong>：强调"唯独恩典"和"唯独信心"。救恩是上帝的恩赐，完全基于基督的功劳，仅通过信心接受。好行为是感恩的回应和信心的果子，而非获取救恩的方式。</p>
        
        <div class="bible-verse">
            你们得救是本乎恩，也因着信；这并不是出于自己，乃是神所赐的；也不是出于行为，免得有人自夸。
            <span class="verse-reference">以弗所书 2:8-9 (和合本)</span>
        </div>
        
        <p><strong>2. 教会与权威</strong></p>
        <p>- <strong>天主教</strong>：拥有等级森严的教会结构，由教皇作为使徒彼得的继承人领导。强调教会传统和训导权威与圣经并重。相信通过使徒统绪保持与早期教会的连续性。</p>
        <p>- <strong>新教</strong>：强调"唯独圣经"原则，认为圣经是最高权威，高于任何教会传统或个人。教会结构各异，从主教制到长老制和会众制不等，普遍强调"信徒皆祭司"原则。</p>
        
        <p><strong>3. 圣礼/圣事</strong></p>
        <p>- <strong>天主教</strong>：承认七个圣事：洗礼、坚振/坚信礼、圣体圣事（弥撒/圣餐）、忏悔、病人傅油、神品（圣职授任）和婚配。相信圣事本身传递救恩恩典。在弥撒中，相信基督通过变质说实质临在于圣餐中。</p>
        <p>- <strong>新教</strong>：通常只承认两个圣礼：洗礼和圣餐，视它们为信心的记号与印证。对圣餐理解各异，从路德宗的同质说到改革宗的灵性临在和浸信会的象征性理解。</p>
        
        <h4>当代关系发展</h4>
        <p>自梵蒂冈第二次大公会议(1962-1965)以来，天主教与新教的关系有显著改善：</p>
        
        <p>1. <strong>合一对话</strong>：双方展开多项神学对话，就因信称义等历史分歧达成部分共识。</p>
        
        <p>2. <strong>共同见证</strong>：在社会伦理议题上（如生命伦理、家庭价值、宗教自由）常有合作立场。</p>
        
        <p>3. <strong>承认共同点</strong>：双方越来越认识到在核心信仰上的共同基础，同时诚实面对真实分歧。</p>
    </div>
    <div class="related-resources">
        <h4>相关资源推荐</h4>
        <div class="resource-list">
            <a href="https://www.crossway.org/books/roman-catholic-theology-and-practice-tpb/" target="_blank" class="resource-item">《天主教神学与实践》- 格雷格·艾利森</a>
            <a href="https://www.bakerbooks.com/roman-catholicism-in-the-light-of-scripture" target="_blank" class="resource-item">《圣经光照下的天主教》- 罗纳德·桥治</a>
            <a href="https://global.oup.com/academic/product/introduction-to-ecumenism-9781626983083" target="_blank" class="resource-item">《合一运动导论》- 迈克尔·基尼</a>
        </div>
    </div>`
}           
        ];

        // DOM元素获取和变量定义
        const modalOverlay = document.getElementById('modalOverlay');
        const modalClose = document.getElementById('modalClose');
        const modalTitle = document.getElementById('modalTitle');
        const promptText = document.getElementById('promptText');
        const copyBtn = document.getElementById('copyBtn');
        const copySuccess = document.getElementById('copySuccess');
        
        const openDeepseekWebBtn = document.getElementById('openDeepseekWebBtn');
        const openDeepseekAppBtn = document.getElementById('openDeepseekAppBtn');
        
        const feedbackBtn = document.getElementById('feedbackBtn');
        
        const qaList = document.getElementById('qaList');
        const qaContent = document.getElementById('qaContent');
        const qaWelcome = document.getElementById('qaWelcome');
        const qaResult = document.getElementById('qaResult');
        const qaLoading = document.getElementById('qaLoading');
        const qaSearchInput = document.getElementById('qaSearchInput');
        const qaSearchBtn = document.getElementById('qaSearchBtn');
        const topicBtns = document.querySelectorAll('.topic-btn');
        const qaCustomForm = document.getElementById('qaCustomForm');
        
        // 初始化函数
        function initialize() {
            // 生成方案卡片
            generateSolutionCards();
            
            // 生成问题列表
            generateQAList();
            
            // 设置事件监听器
            setupEventListeners();
            
            // 绘制Canvas背景
            drawHeaderCanvas();
        }
        
        // 生成方案卡片
        function generateSolutionCards() {
            const solutionsGrid = document.getElementById('solutionsGrid');
            solutionsGrid.innerHTML = '';
            
            solutionCards.forEach(card => {
                const benefitsHTML = card.benefits.map(benefit => `<li>${benefit}</li>`).join('');
                
                const cardHTML = `
                <div class="solution-card" data-card-id="${card.id}">
                    <div class="card-header">
                        <div class="card-illustration" id="illustration${card.id}"></div>
                    </div>
                    <div class="card-content">
                        <h3 class="card-title">${card.title}</h3>
                        <p class="card-description">${card.description}</p>
                        <ul class="benefits-list">
                            ${benefitsHTML}
                        </ul>
                        <div class="implementation-tips">
                            <h4>实施建议</h4>
                            <p>${card.tips}</p>
                        </div>
                        <div class="click-indicator">点击查看详情</div>
                    </div>
                </div>
                `;
                
                solutionsGrid.innerHTML += cardHTML;
            });
            
            // 卡片点击事件
            document.querySelectorAll('.solution-card').forEach(card => {
                card.addEventListener('click', handleCardClick);
            });
            
            // 绘制卡片图标
            setTimeout(() => {
                for (let i = 1; i <= 7; i++) {
                    const el = document.getElementById(`illustration${i}`);
                    if (el) drawCardIllustration(i, el);
                }
            }, 100);
        }
        
        // 生成问答列表
        function generateQAList(filter = 'all') {
            qaList.innerHTML = '';
            
            let filteredData = bibleQAData;
            if (filter !== 'all') {
                filteredData = bibleQAData.filter(item => item.topic === filter);
            }
            
            filteredData.forEach(qa => {
                const listItem = document.createElement('li');
                listItem.className = 'qa-list-item';
                listItem.setAttribute('data-qa-id', qa.id);
                listItem.innerHTML = `
                    <h4>${qa.title}</h4>
                    <p>${qa.shortDesc}</p>
                `;
                
                listItem.addEventListener('click', () => {
                    // 显示加载状态
                    qaWelcome.style.display = 'none';
                    qaResult.style.display = 'none';
                    qaLoading.style.display = 'flex';
                    
                    // 模拟加载延迟，增强体验
                    setTimeout(() => {
                        showQuestion(qa.id);
                        qaLoading.style.display = 'none';
                        
                        // 移除其他项目的active类
                        document.querySelectorAll('.qa-list-item').forEach(item => {
                            item.classList.remove('active');
                        });
                        
                        // 添加active类给当前项目
                        listItem.classList.add('active');
                    }, 600);
                });
                
                qaList.appendChild(listItem);
            });
        }
        
        // 设置事件监听器
        function setupEventListeners() {
            // 方案模态框相关
            modalClose.addEventListener('click', () => {
                modalOverlay.classList.remove('active');
            });
            
            modalOverlay.addEventListener('click', (e) => {
                if (e.target === modalOverlay) {
                    modalOverlay.classList.remove('active');
                }
            });
            
            copyBtn.addEventListener('click', () => {
                navigator.clipboard.writeText(promptText.textContent).then(() => {
                    copySuccess.textContent = "✓ 复制成功!";
                    copySuccess.classList.add('show');
                    setTimeout(() => {
                        copySuccess.classList.remove('show');
                    }, 2000);
                }).catch(err => {
                    console.error('无法复制到剪贴板: ', err);
                    alert('无法自动复制提示词。请手动选择文本并复制。');
                });
            });
            
            // DeepSeek按钮
            openDeepseekWebBtn.addEventListener('click', () => {
                window.open("https://chat.deepseek.com/", '_blank');
            });
            
            openDeepseekAppBtn.addEventListener('click', () => {
                try {
                    const isAndroid = /Android/i.test(navigator.userAgent);
                    const isIOS = /iPhone|iPad|iPod/i.test(navigator.userAgent);
                    
                    // 创建一个提示元素
                    const appOpenNotice = document.createElement('div');
                    appOpenNotice.style.position = 'fixed';
                    appOpenNotice.style.top = '20px';
                    appOpenNotice.style.left = '50%';
                    appOpenNotice.style.transform = 'translateX(-50%)';
                    appOpenNotice.style.padding = '12px 20px';
                    appOpenNotice.style.backgroundColor = 'rgba(0,0,0,0.8)';
                    appOpenNotice.style.color = 'white';
                    appOpenNotice.style.borderRadius = '8px';
                    appOpenNotice.style.zIndex = '9999';
                    appOpenNotice.style.boxShadow = '0 4px 12px rgba(0,0,0,0.15)';
                    appOpenNotice.style.fontSize = '14px';
                    appOpenNotice.textContent = '正在尝试打开DeepSeek应用...';
                    document.body.appendChild(appOpenNotice);
                    
                    // 设置超时检测
                    let appOpenTimeout = setTimeout(() => {
                        appOpenNotice.textContent = '无法打开DeepSeek应用，请确保已安装或使用网页版。';
                        appOpenNotice.style.backgroundColor = '#e74c3c';
                        
                        // 5秒后移除提示
                        setTimeout(() => {
                            document.body.removeChild(appOpenNotice);
                        }, 5000);
                    }, 2500);
                    
                    // 监听页面可见性变化，如果用户切换到应用，则清除超时
                    document.addEventListener('visibilitychange', function clearAppOpenTimeout() {
                        if (document.hidden) {
                            clearTimeout(appOpenTimeout);
                            document.body.removeChild(appOpenNotice);
                            document.removeEventListener('visibilitychange', clearAppOpenTimeout);
                        }
                    });
                    
                    if (isAndroid) {
                        window.location.href = "intent://chat/#Intent;scheme=deepseek;package=com.deepseek.chat;end";
                    } else if (isIOS) {
                        window.location.href = "deepseek://";
                    } else {
                        window.location.href = "deepseek://";
                    }
                } catch(e) {
                    console.error("打开应用失败", e);
                    alert("无法打开DeepSeek应用，请使用网页版或从应用商店下载安装。");
                }
            });
            
            // 反馈模态框相关
            const feedbackModalOverlay = document.getElementById('feedbackModalOverlay');
            const feedbackModalClose = document.getElementById('feedbackModalClose');
            const feedbackForm = document.getElementById('feedbackForm');
            const feedbackStatus = document.getElementById('feedbackStatus');
            
            feedbackBtn.addEventListener('click', () => {
                feedbackModalOverlay.classList.add('active');
            });
            
            feedbackModalClose.addEventListener('click', () => {
                feedbackModalOverlay.classList.remove('active');
            });
            
            feedbackModalOverlay.addEventListener('click', (e) => {
                if (e.target === feedbackModalOverlay) {
                    feedbackModalOverlay.classList.remove('active');
                }
            });
            
            feedbackForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                const name = document.getElementById('feedbackName').value.trim();
                const email = document.getElementById('feedbackEmail').value.trim();
                const type = document.getElementById('feedbackType').value;
                const content = document.getElementById('feedbackContent').value.trim();
                
                if (!name || !content) {
                    feedbackStatus.style.display = 'block';
                    feedbackStatus.style.color = '#e74c3c';
                    feedbackStatus.textContent = '请填写您的称呼和反馈内容';
                    return;
                }
                
                // 显示加载状态
                const submitBtn = document.getElementById('submitFeedbackBtn');
                const originalText = submitBtn.textContent;
                submitBtn.disabled = true;
                submitBtn.textContent = '提交中...';
                feedbackStatus.style.display = 'none';
                
                // 使用EmailJS发送邮件
                emailjs.send('default_service', 'template_feedback', {
                    from_name: name,
                    reply_to: email,
                    feedback_type: type,
                    message: content,
                    page_url: window.location.href
                }).then((response) => {
                    console.log('邮件发送成功:', response);
                    // 成功提交
                    feedbackStatus.style.display = 'block';
                    feedbackStatus.style.color = '#2ecc71';
                    feedbackStatus.textContent = '感谢您的反馈！我们已收到您的信息。';
                    
                    // 重置表单
                    feedbackForm.reset();
                    
                    // 3秒后关闭模态框
                    setTimeout(() => {
                        feedbackModalOverlay.classList.remove('active');
                        feedbackStatus.style.display = 'none';
                    }, 3000);
                    
                }).catch(error => {
                    // 提交失败
                    feedbackStatus.style.display = 'block';
                    feedbackStatus.style.color = '#e74c3c';
                    feedbackStatus.textContent = '提交失败，请稍后再试或直接联系我们。错误信息：' + error.text;
                    console.error('反馈提交失败:', error);
                    
                    // 如果是服务配置问题，给出更具体的提示
                    if (error.status === 0) {
                        feedbackStatus.textContent = '网络连接错误，请检查您的网络连接并重试。';
                    } else if (error.status === 400 || error.status === 500) {
                        feedbackStatus.textContent = '服务器处理请求时出错，请稍后再试。';
                    }
                }).finally(() => {
                    // 恢复按钮状态
                    submitBtn.disabled = false;
                    submitBtn.textContent = originalText;
                });
            });
            
            // 问答相关
            topicBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    // 移除其他按钮的active类
                    topicBtns.forEach(b => b.classList.remove('active'));
                    
                    // 添加active类给当前按钮
                    btn.classList.add('active');
                    
                    // 根据主题筛选问题
                    const topic = btn.getAttribute('data-topic');
                    generateQAList(topic);
                    
                    // 显示欢迎信息
                    qaWelcome.style.display = 'block';
                    qaResult.style.display = 'none';
                });
            });
            
            // 搜索功能
            qaSearchBtn.addEventListener('click', searchQuestions);
            qaSearchInput.addEventListener('keypress', (e) => {
                if (e.key === 'Enter') {
                    searchQuestions();
                }
            });
            
            // 自定义问题提交
            qaCustomForm.addEventListener('submit', (e) => {
                e.preventDefault();
                const question = document.getElementById('customQuestion').value.trim();
                if (question) {
                    submitCustomQuestion(question);
                }
            });
        }
        
        // 处理卡片点击
        function handleCardClick() {
            const cardId = this.getAttribute('data-card-id');
            const title = this.querySelector('.card-title').textContent;
            const prompt = promptTemplates[cardId];
            
            modalTitle.textContent = title;
            promptText.textContent = prompt || '加载中...';
            modalOverlay.classList.add('active');
        }
        
        // 显示问题答案
        function showQuestion(id) {
            const question = bibleQAData.find(q => q.id === parseInt(id));
            if (!question) return;
            
            qaWelcome.style.display = 'none';
            qaResult.style.display = 'block';
            qaResult.innerHTML = question.content;
        }
        
        // 搜索问题
        function searchQuestions() {
            const searchTerm = qaSearchInput.value.trim().toLowerCase();
            if (!searchTerm) return;
            
            // 显示加载状态
            qaWelcome.style.display = 'none';
            qaResult.style.display = 'none';
            qaLoading.style.display = 'flex';
            
            setTimeout(() => {
                const results = bibleQAData.filter(qa => 
                    qa.title.toLowerCase().includes(searchTerm) || 
                    qa.shortDesc.toLowerCase().includes(searchTerm)
                );
                
                qaLoading.style.display = 'none';
                
                if (results.length > 0) {
                    // 更新列表
                    qaList.innerHTML = '';
                    results.forEach(qa => {
                        const listItem = document.createElement('li');
                        listItem.className = 'qa-list-item';
                        listItem.setAttribute('data-qa-id', qa.id);
                        listItem.innerHTML = `
                            <h4>${qa.title}</h4>
                            <p>${qa.shortDesc}</p>
                        `;
                        
                        listItem.addEventListener('click', () => {
                            showQuestion(qa.id);
                            document.querySelectorAll('.qa-list-item').forEach(item => {
                                item.classList.remove('active');
                            });
                            listItem.classList.add('active');
                        });
                        
                        qaList.appendChild(listItem);
                    });
                    
                    // 显示第一个结果
                    showQuestion(results[0].id);
                    qaList.firstChild.classList.add('active');
                } else {
                    qaWelcome.style.display = 'block';
                    alert('未找到相关问题，请尝试其他关键词或在下方提交您的问题。');
                }
            }, 800);
        }
        
        // 提交自定义问题
        function submitCustomQuestion(question) {
            // 显示加载状态
            qaWelcome.style.display = 'none';
            qaResult.style.display = 'none';
            qaLoading.style.display = 'flex';
            
            setTimeout(() => {
                // 重定向到DeepSeek网站，并预填问题
                const deepseekPrompt = promptTemplates[7].replace('[这里输入您的问题]', question);
                const deepseekUrl = `https://chat.deepseek.com/`;
                window.open(deepseekUrl, '_blank');
                
                // 清空输入框并恢复界面状态
                document.getElementById('customQuestion').value = '';
                qaLoading.style.display = 'none';
                qaWelcome.style.display = 'block';
            }, 1000);
        }
        
        // 绘制头部背景Canvas
        function drawHeaderCanvas() {
            const header = document.getElementById('header-canvas');
            const canvas = document.createElement('canvas');
            header.appendChild(canvas);
            
            const ctx = canvas.getContext('2d');
            canvas.width = header.offsetWidth;
            canvas.height = header.offsetHeight;
            
            // 绘制网格背景
            ctx.strokeStyle = 'rgba(255,255,255,0.1)';
            ctx.lineWidth = 1;
            
            const gap = 40;
            
            for (let x = 0; x < canvas.width; x += gap) {
                ctx.beginPath();
                ctx.moveTo(x, 0);
                ctx.lineTo(x, canvas.height);
                ctx.stroke();
            }
            
            for (let y = 0; y < canvas.height; y += gap) {
                ctx.beginPath();
                ctx.moveTo(0, y);
                ctx.lineTo(canvas.width, y);
                ctx.stroke();
            }
            
            // 添加一些点和圆形
            ctx.fillStyle = 'rgba(255,255,255,0.2)';
            for (let i = 0; i < 50; i++) {
                const x = Math.random() * canvas.width;
                const y = Math.random() * canvas.height;
                const radius = Math.random() * 3 + 1;
                
                ctx.beginPath();
                ctx.arc(x, y, radius, 0, Math.PI * 2);
                ctx.fill();
            }
        }
        
        // 绘制卡片图标
        function drawCardIllustration(id, container) {
            const canvas = document.createElement('canvas');
            container.appendChild(canvas);
            
            const ctx = canvas.getContext('2d');
            canvas.width = container.offsetWidth;
            canvas.height = container.offsetHeight;
            
            ctx.fillStyle = '#ffffff';
            ctx.strokeStyle = '#ffffff';
            ctx.lineWidth = 2;
            
            // 根据ID绘制不同图标
            switch(id) {
                case 1: // 经文分析与讲道准备
                    drawBibleIcon(ctx, canvas);
                    break;
                case 2: // 自动化教会行政
                    drawAdminIcon(ctx, canvas);
                    break;
                case 3: // 个性化辅导资源库
                    drawCounselingIcon(ctx, canvas);
                    break;
                case 4: // 多语言服侍与翻译
                    drawTranslationIcon(ctx, canvas);
                    break;
                case 5: // 媒体内容创作
                    drawMediaIcon(ctx, canvas);
                    break;
                case 6: // 三代经课讲道预备
                    drawLectionaryIcon(ctx, canvas);
                    break;
                case 7: // 圣经问答助手
                    drawQAIcon(ctx, canvas);
                    break;
            }
        }
        
        // 绘制各种图标的函数
        function drawBibleIcon(ctx, canvas) {
            // 圣经和放大镜图标
            ctx.beginPath();
            ctx.rect(canvas.width/2 - 50, canvas.height/2 - 30, 100, 60);
            ctx.stroke();
            
            // 书页
            ctx.beginPath();
            ctx.moveTo(canvas.width/2, canvas.height/2 - 30);
            ctx.lineTo(canvas.width/2, canvas.height/2 + 30);
            ctx.stroke();
            
            // 放大镜
            ctx.beginPath();
            ctx.arc(canvas.width/2 + 60, canvas.height/2 - 20, 15, 0, Math.PI * 2);
            ctx.stroke();
            
            // 手柄
            ctx.beginPath();
            ctx.moveTo(canvas.width/2 + 50, canvas.height/2 - 10);
            ctx.lineTo(canvas.width/2 + 30, canvas.height/2 + 20);
            ctx.stroke();
        }
        
        function drawAdminIcon(ctx, canvas) {
            // 日历图标
            ctx.beginPath();
            ctx.rect(canvas.width/2 - 60, canvas.height/2 - 30, 60, 60);
            ctx.stroke();
            
            // 日历格子
            for (let i = 0; i < 2; i++) {
                ctx.beginPath();
                ctx.moveTo(canvas.width/2 - 60, canvas.height/2 - 30 + 20 * (i+1));
                ctx.lineTo(canvas.width/2, canvas.height/2 - 30 + 20 * (i+1));
                ctx.stroke();
            }
            
            // 文档
            ctx.beginPath();
            ctx.rect(canvas.width/2 + 10, canvas.height/2 - 30, 50, 60);
            ctx.stroke();
            
            // 文档线条
            for (let i = 0; i < 4; i++) {
                ctx.beginPath();
                ctx.moveTo(canvas.width/2 + 15, canvas.height/2 - 20 + 15 * i);
                ctx.lineTo(canvas.width/2 + 55, canvas.height/2 - 20 + 15 * i);
                ctx.stroke();
            }
        }
        
        function drawCounselingIcon(ctx, canvas) {
            // 书架图标
            ctx.beginPath();
            ctx.rect(canvas.width/2 - 60, canvas.height/2 - 40, 120, 80);
            ctx.stroke();
            
            // 书架隔板
            ctx.beginPath();
            ctx.moveTo(canvas.width/2 - 60, canvas.height/2);
            ctx.lineTo(canvas.width/2 + 60, canvas.height/2);
            ctx.stroke();
            
            // 上层书籍
            for (let i = 0; i < 5; i++) {
                ctx.beginPath();
                ctx.rect(canvas.width/2 - 55 + i * 23, canvas.height/2 - 35, 18, 30);
                ctx.stroke();
            }
            
            // 下层书籍
            for (let i = 0; i < 4; i++) {
                ctx.beginPath();
                ctx.rect(canvas.width/2 - 50 + i * 25, canvas.height/2 + 5, 20, 30);
                ctx.stroke();
            }
        }
        
        function drawTranslationIcon(ctx, canvas) {
            // 世界地图
            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, 50, 0, Math.PI * 2);
            ctx.stroke();
            
            // 语言气泡
            ctx.beginPath();
            ctx.arc(canvas.width/2 - 60, canvas.height/2 - 30, 20, 0, Math.PI * 2);
            ctx.stroke();
            ctx.fillText('En', canvas.width/2 - 67, canvas.height/2 - 25);
            
            ctx.beginPath();
            ctx.arc(canvas.width/2 + 60, canvas.height/2 - 30, 20, 0, Math.PI * 2);
            ctx.stroke();
            ctx.fillText('中', canvas.width/2 + 53, canvas.height/2 - 25);
            
            // 连接线
            ctx.beginPath();
            ctx.moveTo(canvas.width/2 - 40, canvas.height/2 - 30);
            ctx.lineTo(canvas.width/2 + 40, canvas.height/2 - 30);
            ctx.stroke();
        }
        
        function drawMediaIcon(ctx, canvas) {
            // 媒体设备图标
            ctx.beginPath();
            ctx.rect(canvas.width/2 - 30, canvas.height/2 - 40, 60, 80);
            ctx.stroke();
            
            // 屏幕内容
            ctx.beginPath();
            ctx.rect(canvas.width/2 - 25, canvas.height/2 - 35, 50, 70);
            ctx.stroke();
            
            // 视频图标
            ctx.beginPath();
            ctx.moveTo(canvas.width/2 + 40, canvas.height/2 - 30);
            ctx.lineTo(canvas.width/2 + 40, canvas.height/2 - 10);
            ctx.lineTo(canvas.width/2 + 60, canvas.height/2 - 20);
            ctx.closePath();
            ctx.stroke();
            
            // 文档图标
            ctx.beginPath();
            ctx.rect(canvas.width/2 + 40, canvas.height/2, 25, 30);
            ctx.stroke();
        }
        
        function drawLectionaryIcon(ctx, canvas) {
            // 教会年历圆形
            ctx.beginPath();
            ctx.arc(canvas.width/2, canvas.height/2, 40, 0, Math.PI * 2);
            ctx.stroke();
            
            // 分区
            for (let i = 0; i < 6; i++) {
                const angle = i * Math.PI / 3;
                ctx.beginPath();
                ctx.moveTo(canvas.width/2, canvas.height/2);
                ctx.lineTo(canvas.width/2 + 40 * Math.cos(angle), canvas.height/2 + 40 * Math.sin(angle));
                ctx.stroke();
            }
            
            // 三本书
            ctx.beginPath();
            ctx.rect(canvas.width/2 - 80, canvas.height/2 - 30, 30, 40);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.rect(canvas.width/2 + 50, canvas.height/2 - 30, 30, 40);
            ctx.stroke();
            
            ctx.beginPath();
            ctx.rect(canvas.width/2 - 15, canvas.height/2 - 80, 30, 40);
            ctx.stroke();
        }
        
        function drawQAIcon(ctx, canvas) {
            // 问答图标 - 问号与答案符号
            // 问号
            ctx.lineWidth = 3;
            ctx.beginPath();
            ctx.arc(canvas.width/2 - 30, canvas.height/2 - 20, 25, 0, Math.PI * 2);
            ctx.stroke();
            
            ctx.font = '30px Arial';
            ctx.fillText('?', canvas.width/2 - 38, canvas.height/2 - 10);
            
            // 答案符号
            ctx.beginPath();
            ctx.arc(canvas.width/2 + 30, canvas.height/2 + 20, 25, 0, Math.PI * 2);
            ctx.stroke();
            
            // A字母
            ctx.font = '30px Arial';
            ctx.fillText('A', canvas.width/2 + 20, canvas.height/2 + 30);
            
            // 连接线
            ctx.lineWidth = 2;
            ctx.beginPath();
            ctx.moveTo(canvas.width/2 - 10, canvas.height/2 - 10);
            ctx.lineTo(canvas.width/2 + 10, canvas.height/2 + 10);
            ctx.stroke();
        }
        
        // 页面加载完成后初始化
        window.addEventListener('load', initialize);
    </script>
</body>
</html>
